(function(t){function e(e){for(var o,i,c=e[0],s=e[1],u=e[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);p&&p(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"156ee678"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(t);var u=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,n[1](u)}r[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var p=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=(n("5c0b"),n("2877")),c={},s=Object(i["a"])(c,r,a,!1,null,null,null),u=s.exports,l=(n("d3b7"),n("8c4f")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"800px",width:"100%"}},[t.showMap?n("l-map",{staticStyle:{height:"80%"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),n("l-marker",{attrs:{"lat-lng":t.withPopup,icon:t.icons.red}},[n("l-popup",[n("div",{on:{click:t.innerClick}},[t._v(" 當前位置 "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.showParagraph,expression:"showParagraph"}]},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sed pretium nisl, ut sagittis sapien. Sed vel sollicitudin nisi. Donec finibus semper metus id malesuada. ")])])])],1),t.Mask.length>0?n("div",t._l(t.items,(function(e){return n("l-marker",{key:e.properties.id,attrs:{icon:e.properties.mask_adult<50?t.icons.grey:t.icons.green,"lat-lng":{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]}}},[n("l-popup",[n("div",{on:{click:t.innerClick}},[t._v(" "+t._s(e.properties.name)+" "),n("p",[t._v("成人口罩:"+t._s(e.properties.mask_adult))]),n("p",[t._v("兒童口罩:"+t._s(e.properties.mask_child))])])])],1)})),1):t._e()],1):t._e()],1)},d=[],h=(n("4160"),n("159b"),n("96cf"),n("1da1")),m=n("e11e"),f=n.n(m),g=n("2699"),b=n("a40a"),v=n("4e2b"),w=n("f60f"),y=n("bc3a"),k=n.n(y),O={name:"Example",components:{LMap:g["a"],LTileLayer:b["a"],LMarker:v["a"],LPopup:w["a"]},data:function(){return{zoom:16,center:Object(m["latLng"])(47.41322,-1.219482),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',withPopup:Object(m["latLng"])(47.41322,-1.219482),withTooltip:Object(m["latLng"])(47.41422,-1.250482),currentZoom:11.5,currentCenter:Object(m["latLng"])(47.41322,-1.219482),showParagraph:!1,mapOptions:{zoomSnap:.5},showMap:!0,Mask:[],position:{latitude:"",longitude:""},icons:{green:Object(m["icon"])({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",iconSize:[32,37],iconAnchor:[16,37]}),grey:Object(m["icon"])({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png",iconSize:[32,37],iconAnchor:[16,37]}),red:Object(m["icon"])({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",iconSize:[32,37],iconAnchor:[16,37]})}}},mounted:function(){this.getLocation(),this.getData()},watch:{currentCenter:function(t){this.centerUpdate(t),this.getData()}},computed:{items:function(){var t=this,e=[];return this.Mask.forEach((function(n){Math.abs(n.geometry.coordinates[1]-t.currentCenter.lat)<.01&&Math.abs(n.geometry.coordinates[0]-t.currentCenter.lng)<.01&&e.push(n)})),e}},methods:{getData:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json").then((function(e){t.Mask=e.data.features}));case 2:case"end":return e.stop()}}),e)})))()},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},showLongText:function(){this.showParagraph=!this.showParagraph},innerClick:function(){alert("Click!")},getLocation:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.showPosition)},showPosition:function(t){this.position.latitude=t.coords.latitude,this.position.longitude=t.coords.longitude,this.withPopup={lat:t.coords.latitude,lng:t.coords.longitude},this.centerUpdate({lat:t.coords.latitude,lng:t.coords.longitude}),this.center={lat:t.coords.latitude,lng:t.coords.longitude},this.getData()}}},_=O,j=Object(i["a"])(_,p,d,!1,null,null,null),P=j.exports;o["a"].use(l["a"]);var x=[{path:"/",name:"Home",component:P},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],L=new l["a"]({mode:"history",base:"/",routes:x}),M=L,S=n("2f62");o["a"].use(S["a"]);var U=new S["a"].Store({state:{},mutations:{},actions:{},modules:{}});n("6cc5");delete f.a.Icon.Default.prototype._getIconUrl,f.a.Icon.Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")}),o["a"].component("l-map",g["a"]),o["a"].component("l-tile-layer",b["a"]),o["a"].component("l-marker",v["a"]),o["a"].config.productionTip=!1,new o["a"]({router:M,store:U,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("9c0c"),r=n.n(o);r.a},"9c0c":function(t,e,n){}});
//# sourceMappingURL=app.b7a2b30a.js.map